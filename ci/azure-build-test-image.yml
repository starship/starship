jobs:
# Check formatting
- job: ${{ parameters.name }}
  displayName: Build docker image
  pool:
    vmImage: ubuntu-16.04
  steps:
      - script: |
          docker pull starshipcommand/starship-test
          docker build -f tests/Dockerfile --tag starshipcommand/starship-test .
        displayName: Build docker image
      - script: ./integration_test

    # - template: azure-install-rust.yml
    #   parameters:
    #     rust_version: stable
    # - script: |
    #     rustup component add rustfmt
    #   displayName: Install rustfmt
    # - script: |
    #     cargo fmt --all -- --check
    #   displayName: Check formatting
